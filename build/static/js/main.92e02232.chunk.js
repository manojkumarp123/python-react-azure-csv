(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{118:function(e,t,a){e.exports=a(190)},123:function(e,t,a){},124:function(e,t,a){},190:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),i=(a(123),a(124),a(11)),l=function(e){if(!e.ok)throw Error("failed to fetch");return e.json()},u=a(220),s=(a(125),a(212)),f=function(){return r.a.createElement("div",{style:m.center},r.a.createElement(s.a,null))},m={center:{display:"flex",flex:1,alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%"}},d=a(216),h=a(218),p=a(111),g=a.n(p),E=a(215),b=a(112),v=a(221);function w(){return Math.round(20*Math.random())-10}function y(){var e=50+w(),t=50+w();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var k=Object(E.a)((function(e){return{paper:{position:"absolute",width:750,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function j(){var e=k(),t=r.a.useState(y),a=Object(i.a)(t,1)[0],n=r.a.useState(!1),c=Object(i.a)(n,2),o=c[0],l=c[1],u=r.a.createElement("div",{style:a,className:e.paper},r.a.createElement("h2",{id:"simple-modal-title"},"Information"),r.a.createElement("ol",null,["The data grid is a temporary snapshot of the cloud file.","The changes made will be temporary.","Click on Save (to cloud) to persist changes.","Click on Refresh (download from cloud) to reset changes on data grid.","Click the Trash-can icon to delete office from data grid (temporary).","Double click on data grid cell to edit and press enter to finish making changes (temporary)."].map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("p",null,e))}))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"contained",onClick:function(){l(!0)}},"Help"),r.a.createElement(v.a,{open:o,onClose:function(){l(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},u))}var O=a(217),x=a(222),S=a(110),C=a.n(S),N=a(219),D=Object(E.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function T(e){var t=e.onSearch,a=e.count,n=D();return r.a.createElement(O.a,{component:"form",className:n.root,onSubmit:function(e){e.preventDefault();var a=e.target.search.value;t(a.toLowerCase()),console.log({searchVal:a})}},r.a.createElement(x.a,{name:"search",className:n.input,placeholder:"Search Office Access",inputProps:{"aria-label":"search office access"}}),r.a.createElement(h.a,{type:"submit",className:n.iconButton,"aria-label":"search"},r.a.createElement(C.a,null)),r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{className:n.divider,orientation:"vertical"}),r.a.createElement("h6",null,a," offices found")))}function L(e){return e.data.map((t=e.columns,function(e){return e.reduce((function(e,a,n){return e[t[n]]=a,e}),{})}));var t}var R=Object(E.a)((function(e){return{root:{display:"flex",flex:1,flexDirection:"column"},titleBar:{display:"flex",flexDirection:"row",justifyContent:"space-between",height:64,padding:8},actionItems:{"& > *":{margin:e.spacing(1)},flexDirection:"row-reverse",display:"flex",flex:1}}}));function I(){return r.a.createElement("div",{style:{textAlign:"center"}},"Nothing to show")}var B=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),m=s[0],p=s[1],E=Object(n.useState)(null),v=Object(i.a)(E,2),w=v[0],y=v[1],k=Object(n.useState)([]),O=Object(i.a)(k,2),x=O[0],S=O[1],C=Object(n.useState)(null),N=Object(i.a)(C,2),D=N[0],B=N[1],z=R(),A=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object.assign({},t,{headers:{"Content-Type":"application/json"}}),p(!0),y(null),fetch(e,t).then(l).then((function(e){var t=e.columns.map((function(e,t){return Object.assign({key:e,name:e,editable:!0,resizable:!0},0===t?{frozen:!0}:{width:250})}));t=[{key:"Action",name:"",frozen:!0,formatter:function(e){var t=e.rowIdx;return r.a.createElement(h.a,{"aria-label":"delete",onClick:function(){return function(e){A("".concat("","/api/brocker-office/").concat(e),{method:"DELETE"})}(t)}},r.a.createElement(g.a,{fontSize:"small"}))}}].concat(t);var a=L(e);p(!1),S(t),c(a),B(e)})).catch((function(e){p(!1),y(e)}))}),[]);Object(n.useEffect)((function(){A("".concat("","/api/brocker-office"))}),[A]);var P=function(e){var t=e.action,n=e.fromRow,r=e.toRow,c=e.updated;if("CELL_UPDATE"===t&&n===r){var o=D.columns.map((function(e){return e in c?c[e]:a[n][e]}));A("".concat("","/api/brocker-office/").concat(n),{method:"PUT",body:JSON.stringify(o)})}},U=r.a.createElement("div",{className:z.actionItems},r.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){A("".concat("","/api/brocker-office/azure"),{method:"PUT"})}},"Save"),r.a.createElement(d.a,{variant:"contained",color:"secondary",onClick:function(){A("".concat("","/api/brocker-office/local"),{method:"DELETE"})}},"Refresh"),r.a.createElement(j,null),r.a.createElement(T,{onSearch:function(e){var t=L(D),a=e?t.filter((function(t){return function(e,t){for(var a=0,n=Object.values(e);a<n.length;a++){var r=n[a];if(r&&r.toString().toLowerCase().indexOf(t)>-1)return!0}return!1}(t,e)})):t;c(a)},count:a.length})),J=r.a.createElement("div",{className:z.titleBar},r.a.createElement("h1",null,"Office Access"),U);return m?r.a.createElement(f,null):w?r.a.createElement("div",null,r.a.createElement("h1",null,"Error"),r.a.createElement("h2",null,w.message)):r.a.createElement("div",{className:z.root},J,r.a.createElement(b.a,null,(function(e){var t=e.width,n=e.height;return r.a.createElement("div",{style:{paddingLeft:8,paddingRight:8}},r.a.createElement(u.a,{columns:x,rows:a,width:t-16,height:n-100,rowHeight:40,onRowsUpdate:P,emptyRowsRenderer:I}))})))};var z=function(){return r.a.createElement(B,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[118,1,2]]]);
//# sourceMappingURL=main.92e02232.chunk.js.map